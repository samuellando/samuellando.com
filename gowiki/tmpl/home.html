<html>

<head>
<title>SamuelLando</title>
<style>
body {
  margin: 0;
  background: #002c35;
}
#container {
  position: relative;
  width: 100%;
  margin: 0 auto;
  margin-top: 100vh;
}
.headers {
  color: white;
  opacity: 0.2;
  text-shadow: 2px 2px #e57ec9;
  font-size: 30px;
  margin: 0;
}
#System {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100vh;
  opacity: 1;
  animation: systemFadeIn 2s;
  animation-timing-function: cubic-bezier(0.4, 0, 1, 1);
}
#title {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  top: 20%;
  font-size: 50px;
  opacity: 0.75;
  animation: titleFadeIn 2s;
  animation-timing-function: cubic-bezier(1, 0.01, 0.86, 2.15);
}
#git {
    position: absolute;
    padding: 20px;
}
#git:hover {
    cursor: pointer;
    }

/* Animations */

@keyframes titleFadeIn {
    from { opacity: 0; }
    to   { opacity: 0.75; }
}
@keyframes systemFadeIn {
    from { opacity: 0; }
    to   { opacity: 1; }
}
</style>
<script>
function drawSky(name, starColor, starCount, drawNow, starMinSize, starMaxSize) {
  var sky = document.getElementById(name);
  if (sky.starCount == null) {
    sky.starCount = drawNow;
  } else {
    sky.starCount += drawNow;
  }
  if (sky.starCount > starCount) {return;}
  for (var i = 0; i < drawNow; i++) {
    var size = (Math.random()*(starMaxSize-starMinSize)+starMinSize);
    var star = document.createElement('DIV');
    star.style.position = 'absolute';
    star.style.zIndex = '-100';
    star.style.top = Math.random()*window.innerHeight-10;
    star.style.left = Math.random()*window.innerWidth-10;
    star.style.width = size;
    star.style.height = size;
    star.style.backgroundColor = starColor;
    sky.appendChild(star);
  }
}

function setUpBody(name, radius, tilt, numberOfArcs, tiltIncrement, borderWidth, borderFill, color, fillColor) {

  // Setup container for wireframe.
  var body = document.getElementById(name);
  /*
   * In order to allow for plannets to pass infornt of eachother in specific
   * orders we need an absolute positioned element, for convinience we can use
   * a container.
   */
  var arcContainer = document.createElement('DIV');
  body.appendChild(arcContainer);
  body.radius = radius; // Stored so it is accesable to other functions.
  body.style.width = radius;
  arcContainer.style.width = radius; // prevents shakeing.
  body.style.margin = '0 auto';
  arcContainer.style.position = 'absolute';
  arcContainer.style.zIndex = '1'; // This will be changed by the orbit function.

  /*
   * In order to to display a sphere, we consider its two dimentional projection
   * each wire in the wireframe being the inrercept of the sphere and a plane
   * its progection is thus an ellipse, considering this as a vector curve, we
   * can eliminate ti z component to obtain the projection of the z=0 plane.
   */
  var angleIncrement = Math.PI/(numberOfArcs-1); // The arcs are all equally spaced.
  for (var i = 0; i < numberOfArcs; i++) {
    // Each arc is its own div.
    var arc = document.createElement('DIV');
    arc.style.margin = '0 auto';
    // To make the wireframes stack.
    if (i > 0) {
      arc.style.marginTop = '-'+(radius+2*borderWidth)+'px';
    }
    arc.style.border = borderWidth+'px '+borderFill+' '+color; // Define border
    arc.style.backgroundColor = fillColor;
    arc.style.borderRadius = '50%'; // Turns it into a conic.
    arc.angle = angleIncrement*i; // Stored to it is accesable to other functions.
    /*
     * This will cause a rotation on the y axis, sin is used because it is positive
     * between zero and pi. The heght will be held constant, and the body can be
     * rotated to obtain roations on any other axis in the xy plane.
     */
    arc.style.width = (Math.sin(arc.angle)*(radius))+'px';
    arc.style.height = radius+'px';
    /*
     * Here the wireframe is tilted, the tilt increment is just to obtain cool effects.
     */
    arc.style.transform = 'rotate('+(tilt+tiltIncrement*i)+'deg)';
    arcContainer.appendChild(arc);
  }
}
function orbit(name, horizontalAmplitude, verticalAmplitude, horizontalPhaseShift, verticalPhaseShift, time) {
  var body = document.getElementById(name);
  var arcContainer = body.childNodes[0];
  // If the body is not obtibing anything.
  if (horizontalAmplitude == 0 && verticalAmplitude == 0) {
    arcContainer.style.marginTop = (window.innerHeight/2-body.radius/2)+'px';
    arcContainer.style.marginLeft = '0px';
    arcContainer.zIndex = 0;
    return;
  }
  var maxDist = Math.sqrt(verticalAmplitude*verticalAmplitude+horizontalAmplitude*horizontalAmplitude);
  /*
   * This used a rule similar to newtons law of gravity to adjust the speed of the orbit
   * for this we scale time. closer bodies will orbit faster.
   */
  var fg = 300/(maxDist*maxDist);
  // Assumeing a circular orbit, we can use simple harmonic motion.
  var posX = horizontalAmplitude*Math.cos(fg*time+horizontalPhaseShift);
  var posY = verticalAmplitude*Math.sin(fg*time+verticalPhaseShift);
  /*
   * Here the body is positioned in the center of the containing div, then translated
   * by its x and y positions.
   */
  arcContainer.style.marginTop = (window.innerHeight/2-body.radius/2-posY)+'px';
  arcContainer.style.marginLeft = posX+'px';
  // Here we check if the z index can be changed, done at maxDist
  var dist = Math.sqrt(posX*posX+posY*posY);
  if (maxDist-dist < 20) {
    if (arcContainer.flipZ) {
      arcContainer.flipZ = false;
      arcContainer.style.zIndex = (-1*parseInt(arcContainer.style.zIndex))+'';
    }
  } else if (maxDist-dist > 20){
    arcContainer.flipZ = true;
  }
}
function spin(name, spinStep) {
  var body = document.getElementById(name);
  var arcs = body.childNodes[0].childNodes;
  for (var i = 0; i < arcs.length; i++) {
    // If the anlge is Pi, reset to zero it better to make a jump that is to small.
    if (arcs[i].angle < Math.PI) {
      arcs[i].angle += spinStep;
    } else {
      arcs[i].angle = 0;
    }
    // Update to width of the elipse.
    arcs[i].style.width = (Math.sin(arcs[i].angle)*(body.radius))+'px';
  }
}
</script>
</head>

<body>
  <h1 id='title' class='headers'>Samuel Lando</h1>
  <div id='System'>
    <div id='redCore'></div>
    <div id='orangeCore'></div>
    <div id='star'></div>
    <div id='green'></div>
    <div id='blue'></div>
    <div id='red'></div>
    <div id='violet'></div>
  </div>
  <a href = "https://www.github.com/samuellando"><img id = "git" width = "100" src="https://assets-cdn.github.com/images/modules/logos_page/Octocat.png" alt="GitHub Octocat"/></a>
  <h1 style="margin-top: 400px;" id='title' ><a href="/index" class='headers'>Wiki</a></h1>
</body>

<script>
function animation() {
  drawSky('System', 'rgba(255,255,255,0.75)', 500, 2, 1, 2);
  spin('star', 0.01);
  spin('orangeCore', 0.02);
  spin('redCore', 0.03);
  spin('green', 0.05);
  spin('blue', 0.05);
  spin('red', 0.05);
  spin('violet', 0.05);
  orbit('star', 0, 0, 0, 0, 0, time);
  orbit('orangeCore', 0, 0, 0, 0, 0, time);
  orbit('redCore', 0, 0, 0, 0, 0, time);
  orbit('green', 150, 0, 0, 0, time);
  orbit('blue', -200, -200, 0, 1.5, time);
  orbit('red', -200, -200, 0, 1.5, time);
  orbit('violet', -450, -150, 0, -1, time);
  time += 1;
}

setUpBody('star', 200, 0, 6, 30, 1, 'solid', '#fffa6b', 'rgba(227,255,68,0.01)');
setUpBody('orangeCore', 150, 0, 12, 30, 1, 'solid', '#e5a159', 'rgba(255, 104, 81, 0.01)');
setUpBody('redCore', 50, 0, 24, 30, 1, 'solid', '#ff6851', 'rgba(227,255,68,0)');
setUpBody('green', 20, 50, 8, 0, 1, 'solid', '#42f453', 'rgba(76, 76, 76 ,0)');
setUpBody('blue', 50, 0, 12, 50, 1, 'solid', 'rgb(191, 201, 255)', 'rgba(150, 166, 255, 0.25)');
setUpBody('red', 100, 0, 7, 50, 1, 'solid', 'rgb(66, 61, 60)', 'rgba(66, 61, 60, 0.01)');
setUpBody('violet', 30, 0, 20, 40, 1, 'solid', 'rgb(255, 211, 243)', 'rgba(255, 211, 243, 0)');

var time = 0;
var systemAnimation = setInterval(animation, 10);
</script>
</html>
